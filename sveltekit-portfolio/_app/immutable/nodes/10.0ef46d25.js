import{S as ge,i as me,s as pe,k as p,q as S,a as U,l as b,m as k,r as N,h as _,c as B,n as f,b as Z,D as l,M as ce,E as H,u as W,N as be,F as ae,O as Ie,G as Ee,o as ke,P as ye,Q as Re}from"../chunks/index.cb44be41.js";function fe(s,t,e){const n=s.slice();return n[11]=t[e],n}function de(s,t,e){const n=s.slice();return n[14]=t[e],n[16]=e,n}function ve(s){let t,e,n,d,i=1+s[16]+"",r,v,A,I,m;return A=ye(s[8][0]),{c(){t=p("li"),e=p("input"),n=U(),d=p("label"),r=S(i),v=U(),this.h()},l(h){t=b(h,"LI",{class:!0});var u=k(t);e=b(u,"INPUT",{type:!0,id:!0,class:!0}),n=B(u),d=b(u,"LABEL",{for:!0,class:!0});var T=k(d);r=N(T,i),T.forEach(_),v=B(u),u.forEach(_),this.h()},h(){f(e,"type","radio"),f(e,"id",`radio ${1+s[16]}`),e.__value=1+s[16],e.value=e.__value,f(e,"class","svelte-18otavm"),f(d,"for",`radio ${1+s[16]}`),f(d,"class","svelte-18otavm"),f(t,"class","svelte-18otavm"),A.p(e)},m(h,u){Z(h,t,u),l(t,e),e.checked=e.__value===s[2],l(t,n),l(t,d),l(d,r),l(t,v),I||(m=H(e,"change",s[7]),I=!0)},p(h,u){u&4&&(e.checked=e.__value===h[2])},d(h){h&&_(t),A.r(),I=!1,m()}}}function he(s){let t,e,n,d;return{c(){t=p("p"),e=S("Text must be at least "),n=S(Y),d=S(" characters"),this.h()},l(i){t=b(i,"P",{class:!0});var r=k(t);e=N(r,"Text must be at least "),n=N(r,Y),d=N(r," characters"),r.forEach(_),this.h()},h(){f(t,"class","warning-message svelte-18otavm")},m(i,r){Z(i,t,r),l(t,e),l(t,n),l(t,d)},p:ae,d(i){i&&_(t)}}}function _e(s,t){let e,n,d=t[11].rating+"",i,r,v,A=t[11].text+"",I,m,h,u,T,R,V,g,O;return{key:s,first:null,c(){e=p("div"),n=p("div"),i=S(d),r=U(),v=p("p"),I=S(A),m=U(),h=p("button"),u=S("X"),R=U(),this.h()},l(D){e=b(D,"DIV",{class:!0});var E=k(e);n=b(E,"DIV",{class:!0});var F=k(n);i=N(F,d),F.forEach(_),r=B(E),v=b(E,"P",{});var q=k(v);I=N(q,A),q.forEach(_),m=B(E),h=b(E,"BUTTON",{class:!0});var J=k(h);u=N(J,"X"),J.forEach(_),R=B(E),E.forEach(_),this.h()},h(){f(n,"class","review-card-rating svelte-18otavm"),f(h,"class","review-card-close-button svelte-18otavm"),h.value=T=t[11].id,f(e,"class",V="review-card "+(t[11].fadeIn?"fade-in":"")+" "+(t[11].fadeOut?"fade-out":"")+" svelte-18otavm"),this.first=e},m(D,E){Z(D,e,E),l(e,n),l(n,i),l(e,r),l(e,v),l(v,I),l(e,m),l(e,h),l(h,u),l(e,R),g||(O=H(h,"click",t[6]),g=!0)},p(D,E){t=D,E&1&&d!==(d=t[11].rating+"")&&W(i,d),E&1&&A!==(A=t[11].text+"")&&W(I,A),E&1&&T!==(T=t[11].id)&&(h.value=T),E&1&&V!==(V="review-card "+(t[11].fadeIn?"fade-in":"")+" "+(t[11].fadeOut?"fade-out":"")+" svelte-18otavm")&&f(e,"class",V)},d(D){D&&_(e),g=!1,O()}}}function De(s){let t,e,n,d,i,r,v,A,I,m,h,u,T,R,V,g,O,D=s[0].length+"",E,F,q,J,$,Q,x,L,P=[],se=new Map,ee,re,C=Array.from({length:10}),y=[];for(let a=0;a<C.length;a+=1)y[a]=ve(de(s,C,a));let w=s[4]&&he(),j=s[0];const ne=a=>a[11].id;for(let a=0;a<j.length;a+=1){let c=fe(s,j,a),o=ne(c);se.set(o,P[a]=_e(o,c))}return{c(){t=p("div"),e=p("div"),n=p("h2"),d=S("Rate our service"),i=U(),r=p("form"),v=p("ul");for(let a=0;a<y.length;a+=1)y[a].c();A=U(),I=p("div"),m=p("input"),h=U(),u=p("button"),T=S("Rate"),R=U(),w&&w.c(),V=U(),g=p("div"),O=p("div"),E=S(D),F=S(" Reviews"),q=U(),J=p("div"),$=S("Average rating: "),Q=S(s[3]),x=U(),L=p("div");for(let a=0;a<P.length;a+=1)P[a].c();this.h()},l(a){t=b(a,"DIV",{class:!0});var c=k(t);e=b(c,"DIV",{class:!0});var o=k(e);n=b(o,"H2",{});var G=k(n);d=N(G,"Rate our service"),G.forEach(_),i=B(o),r=b(o,"FORM",{class:!0});var X=k(r);v=b(X,"UL",{class:!0});var ie=k(v);for(let M=0;M<y.length;M+=1)y[M].l(ie);ie.forEach(_),A=B(X),I=b(X,"DIV",{class:!0});var z=k(I);m=b(z,"INPUT",{type:!0,placeholder:!0,class:!0}),h=B(z),u=b(z,"BUTTON",{type:!0,class:!0});var oe=k(u);T=N(oe,"Rate"),oe.forEach(_),z.forEach(_),R=B(X),w&&w.l(X),X.forEach(_),o.forEach(_),V=B(c),g=b(c,"DIV",{class:!0});var K=k(g);O=b(K,"DIV",{class:!0});var te=k(O);E=N(te,D),F=N(te," Reviews"),te.forEach(_),q=B(K),J=b(K,"DIV",{class:!0});var le=k(J);$=N(le,"Average rating: "),Q=N(le,s[3]),le.forEach(_),K.forEach(_),x=B(c),L=b(c,"DIV",{class:!0});var ue=k(L);for(let M=0;M<P.length;M+=1)P[M].l(ue);ue.forEach(_),c.forEach(_),this.h()},h(){f(v,"class","ratings-form-list svelte-18otavm"),f(m,"type","text"),f(m,"placeholder","Rate away"),f(m,"class","svelte-18otavm"),f(u,"type","submit"),u.disabled=s[4],f(u,"class","svelte-18otavm"),f(I,"class","ratings-form-group svelte-18otavm"),f(r,"class","ratings-form svelte-18otavm"),f(e,"class","ratings-header svelte-18otavm"),f(O,"class","total-ratings"),f(J,"class","average-ratings"),f(g,"class","ratings-body svelte-18otavm"),f(L,"class","ratings-footer svelte-18otavm"),f(t,"class","ratings-container svelte-18otavm")},m(a,c){Z(a,t,c),l(t,e),l(e,n),l(n,d),l(e,i),l(e,r),l(r,v);for(let o=0;o<y.length;o+=1)y[o]&&y[o].m(v,null);l(r,A),l(r,I),l(I,m),ce(m,s[1]),l(I,h),l(I,u),l(u,T),l(r,R),w&&w.m(r,null),l(t,V),l(t,g),l(g,O),l(O,E),l(O,F),l(g,q),l(g,J),l(J,$),l(J,Q),l(t,x),l(t,L);for(let o=0;o<P.length;o+=1)P[o]&&P[o].m(L,null);ee||(re=[H(m,"input",s[9]),H(m,"input",s[10]),H(u,"click",s[5])],ee=!0)},p(a,[c]){if(c&4){C=Array.from({length:10});let o;for(o=0;o<C.length;o+=1){const G=de(a,C,o);y[o]?y[o].p(G,c):(y[o]=ve(G),y[o].c(),y[o].m(v,null))}for(;o<y.length;o+=1)y[o].d(1);y.length=C.length}c&2&&m.value!==a[1]&&ce(m,a[1]),c&16&&(u.disabled=a[4]),a[4]?w?w.p(a,c):(w=he(),w.c(),w.m(r,null)):w&&(w.d(1),w=null),c&1&&D!==(D=a[0].length+"")&&W(E,D),c&8&&W(Q,a[3]),c&65&&(j=a[0],P=be(P,c,ne,1,a,j,se,L,Re,_e,null,fe))},i:ae,o:ae,d(a){a&&_(t),Ie(y,a),w&&w.d();for(let c=0;c<P.length;c+=1)P[c].d();ee=!1,Ee(re)}}}const Y=5;function we(s){return s.length>0?(s.reduce((e,n)=>e+n.rating,0)/s.length).toFixed(2):0}function Ae(s,t,e){let n,d,i=[],r="",v=0;ke(()=>{const R=localStorage.getItem("ratingsArray");R&&e(0,i=JSON.parse(R))});function A(R){if(R.preventDefault(),r.length>=Y){let g={id:i.reduce((O,D)=>D.id>O?D.id:O,0)+1,rating:v,text:r,fadeIn:!0};i.forEach(O=>O.fadeIn=!1),e(0,i=[g,...i]),e(1,r=""),e(2,v=0),localStorage.setItem("ratingsArray",JSON.stringify(i)),setTimeout(()=>{g.fadeIn=!1,localStorage.setItem("ratingsArray",JSON.stringify(i))},2e3)}}function I(R){const V=parseInt(R.target.value);e(0,i=i.map(g=>(g.id===V&&(g.fadeOut=!0),g))),setTimeout(()=>{e(0,i=i.filter(g=>g.id!==V)),localStorage.setItem("ratingsArray",JSON.stringify(i))},1e3)}const m=[[]];function h(){v=this.__value,e(2,v)}const u=R=>e(1,r=R.target.value);function T(){r=this.value,e(1,r)}return s.$$.update=()=>{s.$$.dirty&2&&e(4,n=r.length<Y),s.$$.dirty&1&&e(3,d=we(i))},[i,r,v,d,n,A,I,h,m,u,T]}class Te extends ge{constructor(t){super(),me(this,t,Ae,De,pe,{})}}export{Te as component};
